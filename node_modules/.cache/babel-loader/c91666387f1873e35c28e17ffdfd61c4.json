{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\modals\\\\Address\\\\UpdateAddress.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { IoMdClose } from \"react-icons/io\";\nimport { addAddress } from \"../../redux/action/address\";\nimport \"./style.css\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"semantic-ui-react\";\nimport { countyListURL, cityListURL, userIdURL } from \"../../constant\";\nimport { authAxios } from \"../../utils\";\n\nconst AddAddress = ({\n  addAddress,\n  updateId,\n  addresses\n}) => {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [apartment, setApartment] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [county, setCounty] = useState(\"\");\n  const [userID, setUserID] = useState(null);\n  const [counties, setCounties] = useState([]);\n  const [cities, setCities] = useState([]);\n  const [makeDefault, setMakeDefault] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [updateItem, setUpdateItem] = useState(null);\n  let item = addresses === null || addresses === void 0 ? void 0 : addresses.filter(item => item.id === updateId)[0];\n  useEffect(() => {\n    setUpdateItem(item);\n  }, [updateId]);\n  console.log(updateItem === null || updateItem === void 0 ? void 0 : updateItem.first_name);\n  useEffect(() => {\n    handleFetchCounties();\n    handleFetchCities();\n    getUserID();\n  }, []);\n  useEffect(() => {\n    if (updateItem !== undefined && updateItem !== null) {\n      setFirstname(updateItem === null || updateItem === void 0 ? void 0 : updateItem.first_name);\n      setLastname(updateItem === null || updateItem === void 0 ? void 0 : updateItem.last_name);\n      setContact(updateItem === null || updateItem === void 0 ? void 0 : updateItem.contact);\n      setAddress(updateItem === null || updateItem === void 0 ? void 0 : updateItem.address);\n      setApartment(updateItem === null || updateItem === void 0 ? void 0 : updateItem.apartment);\n      setCity(updateItem === null || updateItem === void 0 ? void 0 : updateItem.city);\n      setCounty(updateItem === null || updateItem === void 0 ? void 0 : updateItem.state_or_region);\n      setMakeDefault(updateItem === null || updateItem === void 0 ? void 0 : updateItem.default);\n    }\n  }, [updateId]);\n\n  const getUserID = () => {\n    authAxios.get(userIdURL).then(res => {\n      setUserID(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  let id = userID === null || userID === void 0 ? void 0 : userID.userID;\n\n  const handleFormatData = counties => {\n    const keys = Object.keys(counties);\n    return keys.map(k => {\n      return {\n        key: k,\n        text: counties[k],\n        value: k\n      };\n    });\n  };\n\n  const handleFetchCounties = () => {\n    authAxios.get(countyListURL).then(res => {\n      setCounties(handleFormatData(res.data));\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleFetchCities = () => {\n    authAxios.get(cityListURL).then(res => {\n      setCities(handleFormatData(res.data));\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleSubmitAddress = e => {\n    e.preventDefault();\n    const data = JSON.stringify({\n      user: id,\n      contact,\n      first_name: firstname,\n      last_name: lastname,\n      address,\n      apartment,\n      city,\n      state_or_region: county,\n      default: makeDefault\n    });\n    addAddress(data);\n  };\n\n  const closeModal = () => {\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n    document.querySelector(\".update-address\").classList.add(\"hide\");\n  };\n\n  if (success) {\n    closeModal();\n  }\n\n  window.addEventListener(\"click\", e => {\n    if (e.target.classList.contains(\"modal-overlay\")) {\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n      document.querySelector(\".update-address\").classList.add(\"hide\");\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-overlay hide update-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, \"UpdateAddress\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-title__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IoMdClose, {\n    onClick: () => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"shipping-form\",\n    onSubmit: e => handleSubmitAddress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shipping-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: firstname,\n    onChange: e => setFirstname(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: lastname,\n    onChange: e => setLastname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }, \"Mobile number\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phone_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, \"+254\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"E.g 79000000\",\n    value: contact,\n    onChange: e => setContact(e.target.value),\n    maxLength: \"9\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, \"Apartment, suite, etc.\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: apartment,\n    onChange: e => setApartment(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, \"County / Region *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCounty(e.target.value),\n    loading: counties.length < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }, \"Please select...\"), counties && counties.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.k,\n    value: item.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 23\n    }\n  }, item.text)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, \"City *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCity(e.target.value),\n    loading: cities.length < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  }, \"Please select...\"), cities && cities.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.k,\n    value: item.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 23\n    }\n  }, item.text))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: makeDefault === true ? true : false,\n    onChange: () => setMakeDefault(!makeDefault),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, \"Make this default address?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    loading: saving,\n    disabled: saving,\n    type: \"submit\",\n    className: \"checkbox-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nconst mapStateToProps = state => ({\n  loading: state.address.loading,\n  success: state.address.success,\n  addresses: state.address.address\n});\n\nexport default connect(mapStateToProps, {\n  addAddress\n})(AddAddress);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/modals/Address/UpdateAddress.js"],"names":["React","useState","useEffect","IoMdClose","addAddress","connect","Button","countyListURL","cityListURL","userIdURL","authAxios","AddAddress","updateId","addresses","firstname","setFirstname","lastname","setLastname","contact","setContact","address","setAddress","apartment","setApartment","city","setCity","county","setCounty","userID","setUserID","counties","setCounties","cities","setCities","makeDefault","setMakeDefault","saving","setSaving","error","setError","success","setSuccess","updateItem","setUpdateItem","item","filter","id","console","log","first_name","handleFetchCounties","handleFetchCities","getUserID","undefined","last_name","state_or_region","default","get","then","res","data","catch","err","handleFormatData","keys","Object","map","k","key","text","value","handleSubmitAddress","e","preventDefault","JSON","stringify","user","closeModal","document","querySelector","classList","add","window","addEventListener","target","contains","length","mapStateToProps","state","loading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { addAddress } from \"../../redux/action/address\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { countyListURL, cityListURL, userIdURL } from \"../../constant\";\r\nimport { authAxios } from \"../../utils\";\r\n\r\nconst AddAddress = ({ addAddress, updateId, addresses }) => {\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [apartment, setApartment] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [county, setCounty] = useState(\"\");\r\n  const [userID, setUserID] = useState(null);\r\n  const [counties, setCounties] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [makeDefault, setMakeDefault] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [updateItem, setUpdateItem] = useState(null);\r\n\r\n  let item = addresses?.filter((item) => item.id === updateId)[0];\r\n  useEffect(() => {\r\n    setUpdateItem(item);\r\n  }, [updateId]);\r\n\r\n  console.log(updateItem?.first_name);\r\n\r\n  useEffect(() => {\r\n    handleFetchCounties();\r\n    handleFetchCities();\r\n    getUserID();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (updateItem !== undefined && updateItem !== null) {\r\n      setFirstname(updateItem?.first_name);\r\n      setLastname(updateItem?.last_name);\r\n      setContact(updateItem?.contact);\r\n      setAddress(updateItem?.address);\r\n      setApartment(updateItem?.apartment);\r\n      setCity(updateItem?.city);\r\n      setCounty(updateItem?.state_or_region);\r\n      setMakeDefault(updateItem?.default);\r\n    }\r\n  }, [updateId]);\r\n\r\n  const getUserID = () => {\r\n    authAxios\r\n      .get(userIdURL)\r\n      .then((res) => {\r\n        setUserID(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  let id = userID?.userID;\r\n\r\n  const handleFormatData = (counties) => {\r\n    const keys = Object.keys(counties);\r\n    return keys.map((k) => {\r\n      return {\r\n        key: k,\r\n        text: counties[k],\r\n        value: k,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleFetchCounties = () => {\r\n    authAxios\r\n      .get(countyListURL)\r\n      .then((res) => {\r\n        setCounties(handleFormatData(res.data));\r\n      })\r\n      .catch((err) => {\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  const handleFetchCities = () => {\r\n    authAxios\r\n      .get(cityListURL)\r\n      .then((res) => {\r\n        setCities(handleFormatData(res.data));\r\n      })\r\n      .catch((err) => {\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmitAddress = (e) => {\r\n    e.preventDefault();\r\n    const data = JSON.stringify({\r\n      user: id,\r\n      contact,\r\n      first_name: firstname,\r\n      last_name: lastname,\r\n      address,\r\n      apartment,\r\n      city,\r\n      state_or_region: county,\r\n      default: makeDefault,\r\n    });\r\n    addAddress(data);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n    document.querySelector(\".update-address\").classList.add(\"hide\");\r\n  };\r\n\r\n  if (success) {\r\n    closeModal();\r\n  }\r\n\r\n  window.addEventListener(\"click\", (e) => {\r\n    if (e.target.classList.contains(\"modal-overlay\")) {\r\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n      document.querySelector(\".update-address\").classList.add(\"hide\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"modal-overlay hide update-address\">\r\n      <div className=\"modal-wrapper\">\r\n        <div className=\"modal-header\">\r\n          <span className=\"modal-title\">UpdateAddress</span>\r\n          <div className=\"modal-title__btn\">\r\n            <IoMdClose onClick={() => closeModal()} />\r\n          </div>\r\n        </div>\r\n        <div className=\"underline\" />\r\n        <form\r\n          className=\"shipping-form\"\r\n          onSubmit={(e) => handleSubmitAddress(e)}>\r\n          <div className=\"shipping-data\">\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group firstname\">\r\n                <label htmlFor=\"firstname\">First name</label>\r\n                <input\r\n                  value={firstname}\r\n                  onChange={(e) => setFirstname(e.target.value)}\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n              <div className=\"input-group lastname\">\r\n                <label htmlFor=\"lastname\">Last name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={lastname}\r\n                  onChange={(e) => setLastname(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group firstname\">\r\n              <label htmlFor=\"firstname\">Mobile number</label>\r\n              <div className=\"input-group phone\">\r\n                <div className=\"phone_code\">+254</div>\r\n                <input\r\n                  placeholder=\"E.g 79000000\"\r\n                  value={contact}\r\n                  onChange={(e) => setContact(e.target.value)}\r\n                  maxLength=\"9\"\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group address\">\r\n              <label htmlFor=\"address\">Address</label>\r\n              <textarea\r\n                value={address}\r\n                onChange={(e) => setAddress(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-group apartment\">\r\n              <label htmlFor=\"apartment\">Apartment, suite, etc.</label>\r\n              <input\r\n                value={apartment}\r\n                onChange={(e) => setApartment(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group state\">\r\n                <label htmlFor=\"city\">County / Region *</label>\r\n                <select\r\n                  onChange={(e) => setCounty(e.target.value)}\r\n                  loading={counties.length < 1}>\r\n                  <option value=\"0\">Please select...</option>\r\n                  {counties &&\r\n                    counties.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group city\">\r\n                <label htmlFor=\"city\">City *</label>\r\n                <select\r\n                  onChange={(e) => setCity(e.target.value)}\r\n                  loading={cities.length < 1}>\r\n                  <option value=\"0\">Please select...</option>\r\n                  {cities &&\r\n                    cities.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"input-default\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={makeDefault === true ? true : false}\r\n                onChange={() => setMakeDefault(!makeDefault)}\r\n              />\r\n              <span>Make this default address?</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"checkout-nav\">\r\n            <Button\r\n              loading={saving}\r\n              disabled={saving}\r\n              type=\"submit\"\r\n              className=\"checkbox-btn\">\r\n              Save\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.address.loading,\r\n  success: state.address.success,\r\n  addresses: state.address.address,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addAddress })(AddAddress);\r\n"]},"metadata":{},"sourceType":"module"}