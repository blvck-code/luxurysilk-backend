{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\layouts\\\\Checkout.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Container } from \"semantic-ui-react\";\nimport { fetchCart } from \"../redux/action/cart\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getImage } from \"../utils\";\nimport { addAddress } from \"../redux/action/address\";\nimport { Redirect } from \"react-router-dom\";\nimport { FiChevronRight } from \"react-icons/fi\";\n\nconst Checkout = ({\n  fetchCart,\n  cart,\n  addAddress,\n  loading,\n  success\n}) => {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  useEffect(() => {\n    fetchCart();\n  }, []);\n  let cartItems = cart === null || cart === void 0 ? void 0 : cart.order_items;\n  const history = useHistory();\n  const data = {\n    firstname,\n    lastname,\n    phone,\n    address,\n    state,\n    city\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(data);\n    addAddress(data);\n  };\n\n  if ((cartItems === null || cartItems === void 0 ? void 0 : cartItems.length) < 1) {\n    return history.goBack();\n  }\n\n  if (success) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/shipping\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 12\n      }\n    });\n  }\n\n  document.title = `Checkout ( ${cart === null || cart === void 0 ? void 0 : cart.order_items.length} items ) | Luxury Silk Online`;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: \"checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, \"Luxury Silk\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/checkout\",\n    className: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Information\"), \" \", /*#__PURE__*/React.createElement(FiChevronRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 36\n    }\n  }, \"Shipping\"), \" \", /*#__PURE__*/React.createElement(FiChevronRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 58\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Payment\"))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Contact information\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }, \"Phone number\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Shipping address\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/order-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }), \"Return to cart\"), (cartItems === null || cartItems === void 0 ? void 0 : cartItems.length) > 0 && /*#__PURE__*/React.createElement(Button, {\n    loading: loading,\n    disabled: loading,\n    type: \"submit\",\n    className: \"checkbox-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"Continue to shipping\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-summary hide-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"checkout-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Order summary\"), (cartItems === null || cartItems === void 0 ? void 0 : cartItems.length) === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-summary__empty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, \"Your cart is empty\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/all-products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, \"Continue Shopping\"))), (cartItems === null || cartItems === void 0 ? void 0 : cartItems.length) > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: (cart === null || cart === void 0 ? void 0 : cart.order_items.length) > 3 ? \"checkout-orders scroll\" : \"checkout-orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, cartItems && cartItems.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-order__img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: getImage(item.item_obj.image),\n    alt: item === null || item === void 0 ? void 0 : item.item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 27\n    }\n  }, item === null || item === void 0 ? void 0 : item.quantity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-order__detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 27\n    }\n  }, item === null || item === void 0 ? void 0 : item.item), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 27\n    }\n  }, item === null || item === void 0 ? void 0 : item.item_obj.weight, \" / \", item === null || item === void 0 ? void 0 : item.item_obj.category, \" \", \"/ Peppermint\")), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, \"KSh. \", item === null || item === void 0 ? void 0 : item.final_price.toFixed(2))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"Subtotal\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"checkout-subtotal__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"KSh. \", cart === null || cart === void 0 ? void 0 : cart.total.toFixed(2))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"KSh. 300.00\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"KSh. \", cart === null || cart === void 0 ? void 0 : cart.total.toFixed(2))))))));\n};\n\nconst mapStateToProps = state => ({\n  cart: state.cart.shoppingCart,\n  loading: state.address.loading,\n  success: state.address.success\n});\n\nexport default connect(mapStateToProps, {\n  fetchCart,\n  addAddress\n})(Checkout);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/layouts/Checkout.js"],"names":["React","useEffect","useState","Button","Container","fetchCart","Link","useHistory","connect","getImage","addAddress","Redirect","FiChevronRight","Checkout","cart","loading","success","firstname","setFirstname","lastname","setLastname","phone","setPhone","address","setAddress","state","setState","city","setCity","cartItems","order_items","history","data","handleSubmit","e","preventDefault","console","log","length","goBack","document","title","map","item","item_obj","image","quantity","weight","category","final_price","toFixed","total","mapStateToProps","shoppingCart"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Container } from \"semantic-ui-react\";\r\nimport { fetchCart } from \"../redux/action/cart\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getImage } from \"../utils\";\r\nimport { addAddress } from \"../redux/action/address\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { FiChevronRight } from \"react-icons/fi\";\r\n\r\nconst Checkout = ({ fetchCart, cart, addAddress, loading, success }) => {\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [state, setState] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, []);\r\n\r\n  let cartItems = cart?.order_items;\r\n  const history = useHistory();\r\n\r\n  const data = {\r\n    firstname,\r\n    lastname,\r\n    phone,\r\n    address,\r\n    state,\r\n    city,\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(data);\r\n    addAddress(data);\r\n  };\r\n\r\n  if (cartItems?.length < 1) {\r\n    return history.goBack();\r\n  }\r\n\r\n  if (success) {\r\n    return <Redirect to=\"/shipping\" />;\r\n  }\r\n\r\n  document.title = `Checkout ( ${cart?.order_items.length} items ) | Luxury Silk Online`;\r\n  return (\r\n    <>\r\n      <Container className=\"checkout\">\r\n        <div className=\"checkout__wrapper\">\r\n          <div className=\"checkout-address\">\r\n            <div className=\"title-secondary\">\r\n              <h1>Luxury Silk</h1>\r\n              <p className=\"title-nav\">\r\n                <Link to=\"/checkout\" className=\"active\">\r\n                  Information\r\n                </Link>{\" \"}\r\n                <FiChevronRight /> <span>Shipping</span> <FiChevronRight />{\" \"}\r\n                <span>Payment</span>\r\n              </p>\r\n            </div>\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n              <div className=\"checkout-contact\">\r\n                <h3>Contact information</h3>\r\n                <div className=\"input-group\">\r\n                  <label htmlFor=\"phone\">Phone number</label>\r\n                  <input type=\"text\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"checkout-shipping\">\r\n                <h3>Shipping address</h3>\r\n              </div>\r\n              <div className=\"checkout-nav\">\r\n                <Link to=\"/order-summary\">\r\n                  <i className=\"fa fa-chevron-left\" />\r\n                  Return to cart\r\n                </Link>\r\n                {cartItems?.length > 0 && (\r\n                  <Button\r\n                    loading={loading}\r\n                    disabled={loading}\r\n                    type=\"submit\"\r\n                    className=\"checkbox-btn\">\r\n                    Continue to shipping\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"checkout-summary hide-mobile\">\r\n            <h3 className=\"checkout-title\">Order summary</h3>\r\n            {cartItems?.length === 0 && (\r\n              <>\r\n                <div className=\"checkout-summary__empty\">\r\n                  <p>Your cart is empty</p>\r\n                  <Link to=\"/all-products\">Continue Shopping</Link>\r\n                </div>\r\n              </>\r\n            )}\r\n            {cartItems?.length > 0 && (\r\n              <>\r\n                <div\r\n                  className={\r\n                    cart?.order_items.length > 3\r\n                      ? \"checkout-orders scroll\"\r\n                      : \"checkout-orders\"\r\n                  }>\r\n                  {cartItems &&\r\n                    cartItems.map((item) => (\r\n                      <div className=\"checkout-order\">\r\n                        <div className=\"checkout-order__img\">\r\n                          <img\r\n                            src={getImage(item.item_obj.image)}\r\n                            alt={item?.item}\r\n                          />\r\n                          <span>{item?.quantity}</span>\r\n                        </div>\r\n                        <div className=\"checkout-order__detail\">\r\n                          <h3>{item?.item}</h3>\r\n                          <p className=\"text-muted\">\r\n                            {item?.item_obj.weight} / {item?.item_obj.category}{\" \"}\r\n                            / Peppermint\r\n                          </p>\r\n                        </div>\r\n                        <h3>KSh. {item?.final_price.toFixed(2)}</h3>\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"underline\" />\r\n                <div className=\"checkout-subtotal\">\r\n                  <div>\r\n                    <h3 className=\"text-muted\">Subtotal</h3>\r\n                    <h3 className=\"checkout-subtotal__price\">\r\n                      KSh. {cart?.total.toFixed(2)}\r\n                    </h3>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-muted\">Shipping</h3>\r\n                    <p className=\"text-muted\">KSh. 300.00</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"underline\" />\r\n                <div className=\"checkout-total\">\r\n                  <h3>Total</h3>\r\n                  <h2>KSh. {cart?.total.toFixed(2)}</h2>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart.shoppingCart,\r\n  loading: state.address.loading,\r\n  success: state.address.success,\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchCart, addAddress })(Checkout);\r\n"]},"metadata":{},"sourceType":"module"}