{"ast":null,"code":"import { GET_PRODUCTS_SUCCESS, GET_PRODUCTS_LOADING, GET_PRODUCTS_ERROR, GET_PRODUCT_DETAIL_LOADING, GET_PRODUCT_DETAIL_SUCCESS, GET_PRODUCT_DETAIL_ERROR, ADD_TO_CART_LOADING, ADD_TO_CART_SUCCESS, ADD_TO_CART_ERROR, REMOVE_FROM_CART_LOADING, REMOVE_FROM_CART_SUCCESS, REMOVE_FROM_CART_ERROR } from \"../types\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { productListURL, endpoint, addToCartURL, removeFromCartURL, searchURL, orderItemsDeleteURL } from \"../../constant\";\nimport { authAxios } from \"../../utils\";\nimport { fetchCart } from \"./cart\";\nexport const getItems = () => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(productListURL).then(res => {\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const filterCategory = category => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(productListURL).then(res => {\n    console.log(res.data);\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const searchItems = item => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(`${searchURL}${item}`).then(res => {\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const getItemDetail = slug => dispatch => {\n  console.log(`${endpoint}${slug}`);\n  axios.get(`${endpoint}${slug}`).then(res => {\n    dispatch({\n      type: GET_PRODUCT_DETAIL_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCT_DETAIL_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleAddToCart = code => dispatch => {\n  dispatch({\n    type: ADD_TO_CART_LOADING\n  });\n  let cart = localStorage.getItem(\"cart\");\n  console.log(cart);\n  let inCart = cart === null || cart === void 0 ? void 0 : cart.item_obj.find(item => item.ref_code === code);\n  console.log(inCart);\n  console.log(code);\n  authAxios.post(`${addToCartURL}${code}/`).then(res => {\n    fetchCart();\n    dispatch({\n      type: ADD_TO_CART_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ADD_TO_CART_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleRemoveFromCart = code => dispatch => {\n  console.log(`${removeFromCartURL}${code}/`);\n  dispatch({\n    type: REMOVE_FROM_CART_LOADING\n  });\n  authAxios.post(`${removeFromCartURL}${code}/`).then(res => {\n    dispatch({\n      type: REMOVE_FROM_CART_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: REMOVE_FROM_CART_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleRemoveItem = id => dispatch => {\n  // dispatch({\n  //   type: REMOVE_FROM_CART_LOADING,\n  // });\n  authAxios.delete(orderItemsDeleteURL(id)).then(res => {\n    fetchCart(); // dispatch({\n    //   type: REMOVE_FROM_CART_SUCCESS,\n    //   payload: id,\n    // });\n  }).catch(err => {\n    console.log(err);\n  });\n};","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/redux/action/products.js"],"names":["GET_PRODUCTS_SUCCESS","GET_PRODUCTS_LOADING","GET_PRODUCTS_ERROR","GET_PRODUCT_DETAIL_LOADING","GET_PRODUCT_DETAIL_SUCCESS","GET_PRODUCT_DETAIL_ERROR","ADD_TO_CART_LOADING","ADD_TO_CART_SUCCESS","ADD_TO_CART_ERROR","REMOVE_FROM_CART_LOADING","REMOVE_FROM_CART_SUCCESS","REMOVE_FROM_CART_ERROR","axios","Redirect","productListURL","endpoint","addToCartURL","removeFromCartURL","searchURL","orderItemsDeleteURL","authAxios","fetchCart","getItems","dispatch","type","get","then","res","payload","data","catch","err","filterCategory","category","console","log","searchItems","item","getItemDetail","slug","handleAddToCart","code","cart","localStorage","getItem","inCart","item_obj","find","ref_code","post","handleRemoveFromCart","handleRemoveItem","id","delete"],"mappings":"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","sourcesContent":["import {\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_PRODUCTS_LOADING,\r\n  GET_PRODUCTS_ERROR,\r\n  GET_PRODUCT_DETAIL_LOADING,\r\n  GET_PRODUCT_DETAIL_SUCCESS,\r\n  GET_PRODUCT_DETAIL_ERROR,\r\n  ADD_TO_CART_LOADING,\r\n  ADD_TO_CART_SUCCESS,\r\n  ADD_TO_CART_ERROR,\r\n  REMOVE_FROM_CART_LOADING,\r\n  REMOVE_FROM_CART_SUCCESS,\r\n  REMOVE_FROM_CART_ERROR,\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport {\r\n  productListURL,\r\n  endpoint,\r\n  addToCartURL,\r\n  removeFromCartURL,\r\n  searchURL,\r\n  orderItemsDeleteURL,\r\n} from \"../../constant\";\r\nimport { authAxios } from \"../../utils\";\r\nimport { fetchCart } from \"./cart\";\r\n\r\nexport const getItems = () => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(productListURL)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const filterCategory = (category) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(productListURL)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const searchItems = (item) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(`${searchURL}${item}`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getItemDetail = (slug) => (dispatch) => {\r\n  console.log(`${endpoint}${slug}`);\r\n  axios\r\n    .get(`${endpoint}${slug}`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCT_DETAIL_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCT_DETAIL_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleAddToCart = (code) => (dispatch) => {\r\n  dispatch({\r\n    type: ADD_TO_CART_LOADING,\r\n  });\r\n\r\n  let cart = localStorage.getItem(\"cart\");\r\n\r\n  console.log(cart);\r\n\r\n  let inCart = cart?.item_obj.find((item) => item.ref_code === code);\r\n\r\n  console.log(inCart);\r\n  console.log(code);\r\n\r\n  authAxios\r\n    .post(`${addToCartURL}${code}/`)\r\n    .then((res) => {\r\n      fetchCart();\r\n      dispatch({\r\n        type: ADD_TO_CART_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ADD_TO_CART_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleRemoveFromCart = (code) => (dispatch) => {\r\n  console.log(`${removeFromCartURL}${code}/`);\r\n  dispatch({\r\n    type: REMOVE_FROM_CART_LOADING,\r\n  });\r\n  authAxios\r\n    .post(`${removeFromCartURL}${code}/`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleRemoveItem = (id) => (dispatch) => {\r\n  // dispatch({\r\n  //   type: REMOVE_FROM_CART_LOADING,\r\n  // });\r\n  authAxios\r\n    .delete(orderItemsDeleteURL(id))\r\n    .then((res) => {\r\n      fetchCart();\r\n      // dispatch({\r\n      //   type: REMOVE_FROM_CART_SUCCESS,\r\n      //   payload: id,\r\n      // });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}