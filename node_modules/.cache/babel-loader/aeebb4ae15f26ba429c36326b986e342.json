{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\layouts\\\\ProductDetail.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Button, Container } from \"semantic-ui-react\";\nimport { FiMinus, FiPlus } from \"react-icons/fi\";\nimport { FaChevronLeft } from \"react-icons/fa\";\nimport { FiChevronDown } from \"react-icons/fi\";\nimport { getItemDetail, handleAddToCart, getItems } from \"../redux/action/products\";\nimport { connect } from \"react-redux\";\nimport { getImage } from \"../utils\";\nimport Loading from \"./Loading\";\n\nconst ProductDetail = ({\n  getItemDetail,\n  handleAddToCart,\n  auth,\n  addLoading,\n  products,\n  getItems,\n  product: {\n    item,\n    error,\n    loading\n  }\n}) => {\n  const [quantity, setQuantity] = useState(1);\n  const {\n    location\n  } = useHistory();\n  let slug = location.pathname;\n  let itemSlug = `/products/${slug.split(\"/\").slice(3, 4).toString()}`;\n  useEffect(() => {\n    getItemDetail(itemSlug);\n  }, [slug]);\n  useEffect(() => {\n    getItems();\n  }, []);\n  document.title = item ? `${item === null || item === void 0 ? void 0 : item.title} | Luxury Silk Online` : \"Luxury Silk Online\";\n  const history = useHistory();\n\n  const checkUser = (ref_code, qty) => {\n    if (auth.token === null) {\n      return history.push(\"/login\");\n    } else {\n      return handleAddToCart(ref_code, qty);\n    }\n  };\n\n  const category = item === null || item === void 0 ? void 0 : item.category;\n  const items = products === null || products === void 0 ? void 0 : products.results;\n  console.log(loading);\n  let similars = items === null || items === void 0 ? void 0 : items.filter(item => item.category === category).slice(0, 4);\n  const showStepBtn = document.querySelectorAll(\".show-step\");\n  showStepBtn.forEach(btn => {\n    btn.addEventListener(\"click\", e => {\n      document.querySelectorAll(\".step\").forEach(step => {\n        step.classList.remove(\"show-text\");\n      });\n      e.currentTarget.parentElement.parentElement.classList.toggle(\"show-text\");\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }), !loading && item && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"title-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Home\"), \"/\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/collections\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Collections\"), \"/\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/collections/all-products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, \"All products\"), \"/\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, item.title)), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, item.title)), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, (item === null || item === void 0 ? void 0 : item.title) && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"product_info-left__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, item === null || item === void 0 ? void 0 : item.title), (item === null || item === void 0 ? void 0 : item.description) && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"product_info-left__desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, item === null || item === void 0 ? void 0 : item.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-left__safe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, (item === null || item === void 0 ? void 0 : item.safety) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, \"Safe for:\"), \" \", item === null || item === void 0 ? void 0 : item.safety)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-left__use\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 23\n    }\n  }, \"When to use:\"), \" \", item === null || item === void 0 ? void 0 : item.use_time))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right__img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, (item === null || item === void 0 ? void 0 : item.image) && /*#__PURE__*/React.createElement(\"img\", {\n    src: getImage(item === null || item === void 0 ? void 0 : item.image),\n    alt: item === null || item === void 0 ? void 0 : item.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-purchase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, (item === null || item === void 0 ? void 0 : item.price) && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"product_info-right__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, \"KSh. \", quantity * (item === null || item === void 0 ? void 0 : item.price)), (item === null || item === void 0 ? void 0 : item.category) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right__category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, item === null || item === void 0 ? void 0 : item.category), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product_info-right__weight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 23\n    }\n  }, item === null || item === void 0 ? void 0 : item.weight), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right__add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product_info-right__qty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FiMinus, {\n    className: \"qty-down down\",\n    onClick: () => {\n      quantity > 1 ? setQuantity(quantity - 1) : setQuantity(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"product_info-right__value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 27\n    }\n  }, quantity), /*#__PURE__*/React.createElement(FiPlus, {\n    className: \"qty-up up\",\n    onClick: () => setQuantity(quantity + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 27\n    }\n  })), item.sold_out ? /*#__PURE__*/React.createElement(Button, {\n    disabled: true,\n    className: \"add-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 27\n    }\n  }, \"sold out\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    loading: addLoading,\n    disabled: addLoading,\n    onClick: () => checkUser(item.ref_code, quantity),\n    className: \"add-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, \"add to cart\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-extra\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"article\", {\n    className: \"step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"step-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 27\n    }\n  }, \"direction of use\"), /*#__PURE__*/React.createElement(FiChevronDown, {\n    className: \"show-step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"step-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 27\n    }\n  }, \"On damp hair, separate into sections depending on volume and length. If hair is dry, spritz lightly with our \\\"Miracle Mist\\\" Daily Spritz to soften and dampen. Apply \\\"Curl Magic!\\\" Curling Gel liberally sections by section from root to tip.\"))), /*#__PURE__*/React.createElement(\"article\", {\n    className: \"step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"step-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 27\n    }\n  }, \"Ingredients\"), /*#__PURE__*/React.createElement(FiChevronDown, {\n    className: \"show-step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"step-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 27\n    }\n  }, item.ingredients)))))))))));\n};\n\nconst maptStateToProps = state => ({\n  product: state.product,\n  auth: state.auth,\n  products: state.products.products,\n  addLoading: state.cart.loading\n});\n\nexport default connect(maptStateToProps, {\n  handleAddToCart,\n  getItemDetail,\n  getItems\n})(ProductDetail);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/layouts/ProductDetail.js"],"names":["React","useEffect","useState","Link","useHistory","Button","Container","FiMinus","FiPlus","FaChevronLeft","FiChevronDown","getItemDetail","handleAddToCart","getItems","connect","getImage","Loading","ProductDetail","auth","addLoading","products","product","item","error","loading","quantity","setQuantity","location","slug","pathname","itemSlug","split","slice","toString","document","title","history","checkUser","ref_code","qty","token","push","category","items","results","console","log","similars","filter","showStepBtn","querySelectorAll","forEach","btn","addEventListener","e","step","classList","remove","currentTarget","parentElement","toggle","description","safety","use_time","image","price","weight","sold_out","ingredients","maptStateToProps","state","cart"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Button, Container } from \"semantic-ui-react\";\r\nimport { FiMinus, FiPlus } from \"react-icons/fi\";\r\nimport { FaChevronLeft } from \"react-icons/fa\";\r\nimport { FiChevronDown } from \"react-icons/fi\";\r\nimport {\r\n  getItemDetail,\r\n  handleAddToCart,\r\n  getItems,\r\n} from \"../redux/action/products\";\r\nimport { connect } from \"react-redux\";\r\nimport { getImage } from \"../utils\";\r\nimport Loading from \"./Loading\";\r\n\r\nconst ProductDetail = ({\r\n  getItemDetail,\r\n  handleAddToCart,\r\n  auth,\r\n  addLoading,\r\n  products,\r\n  getItems,\r\n  product: { item, error, loading },\r\n}) => {\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const { location } = useHistory();\r\n  let slug = location.pathname;\r\n\r\n  let itemSlug = `/products/${slug.split(\"/\").slice(3, 4).toString()}`;\r\n\r\n  useEffect(() => {\r\n    getItemDetail(itemSlug);\r\n  }, [slug]);\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, []);\r\n\r\n  document.title = item\r\n    ? `${item?.title} | Luxury Silk Online`\r\n    : \"Luxury Silk Online\";\r\n\r\n  const history = useHistory();\r\n\r\n  const checkUser = (ref_code, qty) => {\r\n    if (auth.token === null) {\r\n      return history.push(\"/login\");\r\n    } else {\r\n      return handleAddToCart(ref_code, qty);\r\n    }\r\n  };\r\n  const category = item?.category;\r\n\r\n  const items = products?.results;\r\n\r\n  console.log(loading);\r\n\r\n  let similars = items\r\n    ?.filter((item) => item.category === category)\r\n    .slice(0, 4);\r\n\r\n  const showStepBtn = document.querySelectorAll(\".show-step\");\r\n  showStepBtn.forEach((btn) => {\r\n    btn.addEventListener(\"click\", (e) => {\r\n      document.querySelectorAll(\".step\").forEach((step) => {\r\n        step.classList.remove(\"show-text\");\r\n      });\r\n      e.currentTarget.parentElement.parentElement.classList.toggle(\"show-text\");\r\n    });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {!loading && item && (\r\n        <>\r\n          <div className=\"title\">\r\n            <p className=\"title-nav\">\r\n              <Link to=\"/\">Home</Link>/\r\n              <Link to=\"/collections\">Collections</Link>/\r\n              <Link to=\"/collections/all-products\">All products</Link>/\r\n              <span>{item.title}</span>\r\n            </p>\r\n            <h2 className=\"title-name\">{item.title}</h2>\r\n          </div>\r\n          <Container>\r\n            <div className=\"product\">\r\n              <div className=\"product_info\">\r\n                <div className=\"product_info-left\">\r\n                  {item?.title && (\r\n                    <h1 className=\"product_info-left__title\">{item?.title}</h1>\r\n                  )}\r\n                  {item?.description && (\r\n                    <p className=\"product_info-left__desc\">\r\n                      {item?.description}\r\n                    </p>\r\n                  )}\r\n                  <div className=\"product_info-left__safe\">\r\n                    {item?.safety && (\r\n                      <p>\r\n                        <span>Safe for:</span> {item?.safety}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"product_info-left__use\">\r\n                    <p>\r\n                      <span>When to use:</span> {item?.use_time}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"product_info-right\">\r\n                  <div className=\"product_info-right__img\">\r\n                    {item?.image && (\r\n                      <img src={getImage(item?.image)} alt={item?.title} />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"product_info-right__info\">\r\n                    <div className=\"product-purchase\">\r\n                      {item?.price && (\r\n                        <h1 className=\"product_info-right__price\">\r\n                          KSh. {quantity * item?.price}\r\n                        </h1>\r\n                      )}\r\n                      {item?.category && (\r\n                        <div className=\"product_info-right__category\">\r\n                          {item?.category}\r\n                        </div>\r\n                      )}\r\n                      <span className=\"product_info-right__weight\">\r\n                        {item?.weight}\r\n                      </span>\r\n                      <div className=\"product_info-right__add\">\r\n                        <div className=\"product_info-right__qty\">\r\n                          <FiMinus\r\n                            className=\"qty-down down\"\r\n                            onClick={() => {\r\n                              quantity > 1\r\n                                ? setQuantity(quantity - 1)\r\n                                : setQuantity(1);\r\n                            }}\r\n                          />\r\n                          <span className=\"product_info-right__value\">\r\n                            {quantity}\r\n                          </span>\r\n                          <FiPlus\r\n                            className=\"qty-up up\"\r\n                            onClick={() => setQuantity(quantity + 1)}\r\n                          />\r\n                        </div>\r\n                        {item.sold_out ? (\r\n                          <Button disabled className=\"add-btn\">\r\n                            sold out\r\n                          </Button>\r\n                        ) : (\r\n                          <>\r\n                            <Button\r\n                              loading={addLoading}\r\n                              disabled={addLoading}\r\n                              onClick={() => checkUser(item.ref_code, quantity)}\r\n                              className=\"add-btn\">\r\n                              add to cart\r\n                            </Button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"product-extra\">\r\n                      <article className=\"step\">\r\n                        <div className=\"step-header\">\r\n                          <h4>direction of use</h4>\r\n                          <FiChevronDown className=\"show-step\" />\r\n                        </div>\r\n                        <div className=\"step-text\">\r\n                          <p>\r\n                            On damp hair, separate into sections depending on\r\n                            volume and length. If hair is dry, spritz lightly\r\n                            with our \"Miracle Mist\" Daily Spritz to soften and\r\n                            dampen. Apply \"Curl Magic!\" Curling Gel liberally\r\n                            sections by section from root to tip.\r\n                          </p>\r\n                        </div>\r\n                      </article>\r\n                      <article className=\"step\">\r\n                        <div className=\"step-header\">\r\n                          <h4>Ingredients</h4>\r\n                          <FiChevronDown className=\"show-step\" />\r\n                        </div>\r\n                        <div className=\"step-text\">\r\n                          <p>{item.ingredients}</p>\r\n                        </div>\r\n                      </article>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Container>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst maptStateToProps = (state) => ({\r\n  product: state.product,\r\n  auth: state.auth,\r\n  products: state.products.products,\r\n  addLoading: state.cart.loading,\r\n});\r\n\r\nexport default connect(maptStateToProps, {\r\n  handleAddToCart,\r\n  getItemDetail,\r\n  getItems,\r\n})(ProductDetail);\r\n"]},"metadata":{},"sourceType":"module"}