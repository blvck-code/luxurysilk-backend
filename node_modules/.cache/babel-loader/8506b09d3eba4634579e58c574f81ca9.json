{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\layouts\\\\EditDetails.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Message } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { editUserURL } from \"../constant\";\nimport { authAxios, config } from \"../utils\";\n\nconst EditDetails = ({\n  user,\n  profile\n}) => {\n  const [userName, setUserName] = useState(\"\");\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setUserName(user === null || user === void 0 ? void 0 : user.username);\n    setEmail(user === null || user === void 0 ? void 0 : user.email);\n    setFirstName(profile === null || profile === void 0 ? void 0 : profile.first_name);\n    setLastName(profile === null || profile === void 0 ? void 0 : profile.last_name);\n    setPhone(profile === null || profile === void 0 ? void 0 : profile.phone_number);\n  }, [user, profile]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = JSON.stringify({\n      user_name: userName,\n      first_name: firstName,\n      last_name: lastName,\n      email,\n      phone\n    });\n    updateUser(data);\n  };\n\n  const updateUser = data => {\n    setLoading(true);\n    authAxios.put(editUserURL, data, config).then(res => {\n      setLoading(false);\n      setSuccess(true);\n      setError(null);\n    }).catch(err => {\n      setLoading(false);\n      setSuccess(false);\n      setError(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => handleSubmit(e),\n    className: \"account_inner-content__details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    value: userName,\n    onChange: e => setUserName(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    value: firstName,\n    onChange: e => setFirstName(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    type: \"text\",\n    value: lastName,\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, \"Prefix\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phone_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"+254\"), /*#__PURE__*/React.createElement(\"input\", {\n    required: true,\n    placeholder: \"E.g 79000000\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    maxLength: \"9\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })))), success && /*#__PURE__*/React.createElement(Message, {\n    header: \"Success\",\n    success: true,\n    content: \"Profile saved successfully\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }), error && /*#__PURE__*/React.createElement(Message, {\n    header: \"Error\",\n    warning: true,\n    content: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    loading: loading,\n    disabled: loading,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, \"save\"));\n};\n\nconst mapStateToProps = state => ({\n  user: state.auth.user,\n  profile: state.auth.profile\n});\n\nexport default connect(mapStateToProps)(EditDetails);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/layouts/EditDetails.js"],"names":["React","useEffect","useState","Button","Message","connect","editUserURL","authAxios","config","EditDetails","user","profile","userName","setUserName","firstName","setFirstName","lastName","setLastName","email","setEmail","phone","setPhone","loading","setLoading","success","setSuccess","error","setError","username","first_name","last_name","phone_number","handleSubmit","e","preventDefault","data","JSON","stringify","user_name","updateUser","put","then","res","catch","err","target","value","mapStateToProps","state","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,mBAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,UAAlC;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAuB;AACzC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAM,CAACoB,OAAD,EAAUC,UAAV,IAAwBrB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACsB,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACwB,KAAD,EAAQC,QAAR,IAAoBzB,QAAQ,CAAC,IAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,WAAW,CAACH,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEkB,QAAP,CAAX;AACAT,IAAAA,QAAQ,CAACT,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEQ,KAAP,CAAR;AACAH,IAAAA,YAAY,CAACJ,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEkB,UAAV,CAAZ;AACAZ,IAAAA,WAAW,CAACN,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEmB,SAAV,CAAX;AACAT,IAAAA,QAAQ,CAACV,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEoB,YAAV,CAAR;AACD,GANQ,EAMN,CAACrB,IAAD,EAAOC,OAAP,CANM,CAAT;;AAQA,QAAMqB,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC1BC,MAAAA,SAAS,EAAE1B,QADe;AAE1BiB,MAAAA,UAAU,EAAEf,SAFc;AAG1BgB,MAAAA,SAAS,EAAEd,QAHe;AAI1BE,MAAAA,KAJ0B;AAK1BE,MAAAA;AAL0B,KAAf,CAAb;AAOAmB,IAAAA,UAAU,CAACJ,IAAD,CAAV;AACD,GAXD;;AAaA,QAAMI,UAAU,GAAIJ,IAAD,IAAU;AAC3BZ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAhB,IAAAA,SAAS,CACNiC,GADH,CACOlC,WADP,EACoB6B,IADpB,EAC0B3B,MAD1B,EAEGiC,IAFH,CAESC,GAAD,IAAS;AACbnB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KANH,EAOGgB,KAPH,CAOUC,GAAD,IAAS;AACdrB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,QAAQ,CAACiB,GAAD,CAAR;AACD,KAXH;AAYD,GAdD;;AAgBA,sBACE;AACE,IAAA,QAAQ,EAAGX,CAAD,IAAOD,YAAY,CAACC,CAAD,CAD/B;AAEE,IAAA,SAAS,EAAC,gCAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,KAAK,EAAErB,QAFT;AAGE,IAAA,QAAQ,EAAGqB,CAAD,IAAOpB,WAAW,CAACoB,CAAC,CAACY,MAAF,CAASC,KAAV,CAH9B;AAIE,IAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAHF,eAYE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,KAAK,EAAEhC,SAFT;AAGE,IAAA,QAAQ,EAAGmB,CAAD,IAAOlB,YAAY,CAACkB,CAAC,CAACY,MAAF,CAASC,KAAV,CAH/B;AAIE,IAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAE9B,QAHT;AAIE,IAAA,QAAQ,EAAGiB,CAAD,IAAOhB,WAAW,CAACgB,CAAC,CAACY,MAAF,CAASC,KAAV,CAJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAVF,CAZF,eAgCE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,KAAK,EAAE5B,KAFT;AAGE,IAAA,QAAQ,EAAGe,CAAD,IAAOd,QAAQ,CAACc,CAAC,CAACY,MAAF,CAASC,KAAV,CAH3B;AAIE,IAAA,IAAI,EAAC,MAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,WAAW,EAAC,cAFd;AAGE,IAAA,KAAK,EAAE1B,KAHT;AAIE,IAAA,QAAQ,EAAGa,CAAD,IAAOZ,QAAQ,CAACY,CAAC,CAACY,MAAF,CAASC,KAAV,CAJ3B;AAKE,IAAA,SAAS,EAAC,GALZ;AAME,IAAA,IAAI,EAAC,MANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,CAVF,CAhCF,EA0DGtB,OAAO,iBACN,oBAAC,OAAD;AACE,IAAA,MAAM,EAAC,SADT;AAEE,IAAA,OAAO,MAFT;AAGE,IAAA,OAAO,EAAC,4BAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3DJ,EAiEGE,KAAK,iBAAI,oBAAC,OAAD;AAAS,IAAA,MAAM,EAAC,OAAhB;AAAwB,IAAA,OAAO,MAA/B;AAAgC,IAAA,OAAO,EAAEA,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjEZ,eAkEE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEJ,OAAjB;AAA0B,IAAA,QAAQ,EAAEA,OAApC;AAA6C,IAAA,IAAI,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAlEF,CADF;AAwED,CAxHD;;AA0HA,MAAMyB,eAAe,GAAIC,KAAD,KAAY;AAClCtC,EAAAA,IAAI,EAAEsC,KAAK,CAACC,IAAN,CAAWvC,IADiB;AAElCC,EAAAA,OAAO,EAAEqC,KAAK,CAACC,IAAN,CAAWtC;AAFc,CAAZ,CAAxB;;AAKA,eAAeN,OAAO,CAAC0C,eAAD,CAAP,CAAyBtC,WAAzB,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Button, Message } from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { editUserURL } from \"../constant\";\r\nimport { authAxios, config } from \"../utils\";\r\n\r\nconst EditDetails = ({ user, profile }) => {\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setUserName(user?.username);\r\n    setEmail(user?.email);\r\n    setFirstName(profile?.first_name);\r\n    setLastName(profile?.last_name);\r\n    setPhone(profile?.phone_number);\r\n  }, [user, profile]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = JSON.stringify({\r\n      user_name: userName,\r\n      first_name: firstName,\r\n      last_name: lastName,\r\n      email,\r\n      phone,\r\n    });\r\n    updateUser(data);\r\n  };\r\n\r\n  const updateUser = (data) => {\r\n    setLoading(true);\r\n    authAxios\r\n      .put(editUserURL, data, config)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setSuccess(true);\r\n        setError(null);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        setSuccess(false);\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={(e) => handleSubmit(e)}\r\n      className=\"account_inner-content__details\">\r\n      <div className=\"input-group firstname\">\r\n        <label htmlFor=\"firstname\">Username</label>\r\n        <input\r\n          required\r\n          value={userName}\r\n          onChange={(e) => setUserName(e.target.value)}\r\n          type=\"text\"\r\n        />\r\n      </div>\r\n      <div className=\"input-inline\">\r\n        <div className=\"input-group firstname\">\r\n          <label htmlFor=\"firstname\">First name</label>\r\n          <input\r\n            required\r\n            value={firstName}\r\n            onChange={(e) => setFirstName(e.target.value)}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <div className=\"input-group lastname\">\r\n          <label htmlFor=\"lastname\">Last name</label>\r\n          <input\r\n            required\r\n            type=\"text\"\r\n            value={lastName}\r\n            onChange={(e) => setLastName(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"input-inline\">\r\n        <div className=\"input-group firstname\">\r\n          <label htmlFor=\"firstname\">Email</label>\r\n          <input\r\n            required\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            type=\"text\"\r\n          />\r\n        </div>\r\n        <div className=\"input-group lastname\">\r\n          <label htmlFor=\"lastname\">Prefix</label>\r\n          <div className=\"input-group phone\">\r\n            <div className=\"phone_code\">+254</div>\r\n            <input\r\n              required\r\n              placeholder=\"E.g 79000000\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value)}\r\n              maxLength=\"9\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {success && (\r\n        <Message\r\n          header=\"Success\"\r\n          success\r\n          content=\"Profile saved successfully\"\r\n        />\r\n      )}\r\n      {error && <Message header=\"Error\" warning content={error} />}\r\n      <Button loading={loading} disabled={loading} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  profile: state.auth.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps)(EditDetails);\r\n"]},"metadata":{},"sourceType":"module"}