{"ast":null,"code":"import { GET_PRODUCTS_SUCCESS, GET_PRODUCTS_LOADING, GET_PRODUCTS_ERROR, GET_PRODUCT_DETAIL_LOADING, GET_PRODUCT_DETAIL_SUCCESS, GET_PRODUCT_DETAIL_ERROR, ADD_TO_CART_LOADING, ADD_TO_CART_SUCCESS, ADD_TO_CART_ERROR, REMOVE_FROM_CART_LOADING, REMOVE_FROM_CART_SUCCESS, REMOVE_FROM_CART_ERROR, GET_ERRORS } from \"../types\";\nimport axios from \"axios\";\nimport { createMessage } from \"./messages\";\nimport { productListURL, endpoint, addToCartURL, removeFromCartURL, searchURL, orderItemsDeleteURL, messageURL } from \"../../constant\";\nimport { authAxios, config } from \"../../utils\";\nimport { fetchCart } from \"./cart\";\nexport const getItems = () => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(productListURL).then(res => {\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const filterCategory = category => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(productListURL).then(res => {\n    console.log(res.data);\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const searchItems = item => dispatch => {\n  dispatch({\n    type: GET_PRODUCTS_LOADING\n  });\n  axios.get(`${searchURL}${item}`).then(res => {\n    dispatch({\n      type: GET_PRODUCTS_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCTS_ERROR,\n      payload: err\n    });\n  });\n};\nexport const getItemDetail = slug => dispatch => {\n  dispatch({\n    type: GET_PRODUCT_DETAIL_LOADING\n  });\n  axios.get(`${endpoint}${slug}`).then(res => {\n    dispatch({\n      type: GET_PRODUCT_DETAIL_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_PRODUCT_DETAIL_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleAddToCart = (ref_code, qty) => dispatch => {\n  dispatch({\n    type: ADD_TO_CART_LOADING\n  });\n  console.log(ref_code);\n  console.log(qty);\n  const body = JSON.stringify({\n    ref_code,\n    qty\n  });\n  authAxios.post(addToCartURL, body, config).then(res => {\n    dispatch(createMessage({\n      addToCart: res.data\n    }));\n    fetchCart();\n    dispatch({\n      type: ADD_TO_CART_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: ADD_TO_CART_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleRemoveFromCart = code => dispatch => {\n  dispatch({\n    type: REMOVE_FROM_CART_LOADING\n  });\n  authAxios.post(`${removeFromCartURL}${code}/`).then(res => {\n    dispatch({\n      type: REMOVE_FROM_CART_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: REMOVE_FROM_CART_ERROR,\n      payload: err\n    });\n  });\n};\nexport const handleRemoveItem = id => dispatch => {\n  // dispatch({\n  //   type: REMOVE_FROM_CART_LOADING,\n  // });\n  authAxios.delete(orderItemsDeleteURL(id)).then(res => {\n    fetchCart(); // dispatch({\n    //   type: REMOVE_FROM_CART_SUCCESS,\n    //   payload: id,\n    // });\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const sendMsg = data => dispatch => {\n  axios.post(messageURL, data, config).then(res => {\n    dispatch(createMessage({\n      saveMsg: \"Your message was received successfully\"\n    }));\n  }).catch(err => {\n    const errors = {\n      msg: err.response.data,\n      status: err.response.status\n    };\n    dispatch({\n      type: GET_ERRORS,\n      payload: errors\n    });\n  });\n};","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/redux/action/products.js"],"names":["GET_PRODUCTS_SUCCESS","GET_PRODUCTS_LOADING","GET_PRODUCTS_ERROR","GET_PRODUCT_DETAIL_LOADING","GET_PRODUCT_DETAIL_SUCCESS","GET_PRODUCT_DETAIL_ERROR","ADD_TO_CART_LOADING","ADD_TO_CART_SUCCESS","ADD_TO_CART_ERROR","REMOVE_FROM_CART_LOADING","REMOVE_FROM_CART_SUCCESS","REMOVE_FROM_CART_ERROR","GET_ERRORS","axios","createMessage","productListURL","endpoint","addToCartURL","removeFromCartURL","searchURL","orderItemsDeleteURL","messageURL","authAxios","config","fetchCart","getItems","dispatch","type","get","then","res","payload","data","catch","err","filterCategory","category","console","log","searchItems","item","getItemDetail","slug","handleAddToCart","ref_code","qty","body","JSON","stringify","post","addToCart","handleRemoveFromCart","code","handleRemoveItem","id","delete","sendMsg","saveMsg","errors","msg","response","status"],"mappings":"AAAA,SACEA,oBADF,EAEEC,oBAFF,EAGEC,kBAHF,EAIEC,0BAJF,EAKEC,0BALF,EAMEC,wBANF,EAOEC,mBAPF,EAQEC,mBARF,EASEC,iBATF,EAUEC,wBAVF,EAWEC,wBAXF,EAYEC,sBAZF,EAaEC,UAbF,QAcO,UAdP;AAeA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,YAA9B;AACA,SACEC,cADF,EAEEC,QAFF,EAGEC,YAHF,EAIEC,iBAJF,EAKEC,SALF,EAMEC,mBANF,EAOEC,UAPF,QAQO,gBARP;AASA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,aAAlC;AACA,SAASC,SAAT,QAA0B,QAA1B;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,QAAD,IAAc;AAC1CA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAE1B;AADC,GAAD,CAAR;AAGAY,EAAAA,KAAK,CACFe,GADH,CACOb,cADP,EAEGc,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE3B,oBADC;AAEP+B,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEzB,kBADC;AAEP6B,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAbH;AAcD,CAlBM;AAoBP,OAAO,MAAMC,cAAc,GAAIC,QAAD,IAAeV,QAAD,IAAc;AACxDA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAE1B;AADC,GAAD,CAAR;AAGAY,EAAAA,KAAK,CACFe,GADH,CACOb,cADP,EAEGc,IAFH,CAESC,GAAD,IAAS;AACbO,IAAAA,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACE,IAAhB;AACAN,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE3B,oBADC;AAEP+B,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GARH,EASGC,KATH,CASUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEzB,kBADC;AAEP6B,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAdH;AAeD,CAnBM;AAqBP,OAAO,MAAMK,WAAW,GAAIC,IAAD,IAAWd,QAAD,IAAc;AACjDA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAE1B;AADC,GAAD,CAAR;AAGAY,EAAAA,KAAK,CACFe,GADH,CACQ,GAAET,SAAU,GAAEqB,IAAK,EAD3B,EAEGX,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE3B,oBADC;AAEP+B,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEzB,kBADC;AAEP6B,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAbH;AAcD,CAlBM;AAoBP,OAAO,MAAMO,aAAa,GAAIC,IAAD,IAAWhB,QAAD,IAAc;AACnDA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAExB;AADC,GAAD,CAAR;AAIAU,EAAAA,KAAK,CACFe,GADH,CACQ,GAAEZ,QAAS,GAAE0B,IAAK,EAD1B,EAEGb,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEvB,0BADC;AAEP2B,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEtB,wBADC;AAEP0B,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAbH;AAcD,CAnBM;AAqBP,OAAO,MAAMS,eAAe,GAAG,CAACC,QAAD,EAAWC,GAAX,KAAoBnB,QAAD,IAAc;AAC9DA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAErB;AADC,GAAD,CAAR;AAGA+B,EAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ;AACAP,EAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AAEA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAC1BJ,IAAAA,QAD0B;AAE1BC,IAAAA;AAF0B,GAAf,CAAb;AAKAvB,EAAAA,SAAS,CACN2B,IADH,CACQhC,YADR,EACsB6B,IADtB,EAC4BvB,MAD5B,EAEGM,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAACZ,aAAa,CAAC;AAAEoC,MAAAA,SAAS,EAAEpB,GAAG,CAACE;AAAjB,KAAD,CAAd,CAAR;AACAR,IAAAA,SAAS;AACTE,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEpB,mBADC;AAEPwB,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GATH,EAUGC,KAVH,CAUUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEnB,iBADC;AAEPuB,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAfH;AAgBD,CA5BM;AA8BP,OAAO,MAAMiB,oBAAoB,GAAIC,IAAD,IAAW1B,QAAD,IAAc;AAC1DA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAElB;AADC,GAAD,CAAR;AAGAa,EAAAA,SAAS,CACN2B,IADH,CACS,GAAE/B,iBAAkB,GAAEkC,IAAK,GADpC,EAEGvB,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEjB,wBADC;AAEPqB,MAAAA,OAAO,EAAED,GAAG,CAACE;AAFN,KAAD,CAAR;AAID,GAPH,EAQGC,KARH,CAQUC,GAAD,IAAS;AACdR,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEhB,sBADC;AAEPoB,MAAAA,OAAO,EAAEG;AAFF,KAAD,CAAR;AAID,GAbH;AAcD,CAlBM;AAoBP,OAAO,MAAMmB,gBAAgB,GAAIC,EAAD,IAAS5B,QAAD,IAAc;AACpD;AACA;AACA;AACAJ,EAAAA,SAAS,CACNiC,MADH,CACUnC,mBAAmB,CAACkC,EAAD,CAD7B,EAEGzB,IAFH,CAESC,GAAD,IAAS;AACbN,IAAAA,SAAS,GADI,CAEb;AACA;AACA;AACA;AACD,GARH,EASGS,KATH,CASUC,GAAD,IAAS;AACdG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACD,GAXH;AAYD,CAhBM;AAkBP,OAAO,MAAMsB,OAAO,GAAIxB,IAAD,IAAWN,QAAD,IAAc;AAC7Cb,EAAAA,KAAK,CACFoC,IADH,CACQ5B,UADR,EACoBW,IADpB,EAC0BT,MAD1B,EAEGM,IAFH,CAESC,GAAD,IAAS;AACbJ,IAAAA,QAAQ,CACNZ,aAAa,CAAC;AAAE2C,MAAAA,OAAO,EAAE;AAAX,KAAD,CADP,CAAR;AAGD,GANH,EAOGxB,KAPH,CAOUC,GAAD,IAAS;AACd,UAAMwB,MAAM,GAAG;AACbC,MAAAA,GAAG,EAAEzB,GAAG,CAAC0B,QAAJ,CAAa5B,IADL;AAEb6B,MAAAA,MAAM,EAAE3B,GAAG,CAAC0B,QAAJ,CAAaC;AAFR,KAAf;AAIAnC,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEf,UADC;AAEPmB,MAAAA,OAAO,EAAE2B;AAFF,KAAD,CAAR;AAID,GAhBH;AAiBD,CAlBM","sourcesContent":["import {\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_PRODUCTS_LOADING,\r\n  GET_PRODUCTS_ERROR,\r\n  GET_PRODUCT_DETAIL_LOADING,\r\n  GET_PRODUCT_DETAIL_SUCCESS,\r\n  GET_PRODUCT_DETAIL_ERROR,\r\n  ADD_TO_CART_LOADING,\r\n  ADD_TO_CART_SUCCESS,\r\n  ADD_TO_CART_ERROR,\r\n  REMOVE_FROM_CART_LOADING,\r\n  REMOVE_FROM_CART_SUCCESS,\r\n  REMOVE_FROM_CART_ERROR,\r\n  GET_ERRORS,\r\n} from \"../types\";\r\nimport axios from \"axios\";\r\nimport { createMessage } from \"./messages\";\r\nimport {\r\n  productListURL,\r\n  endpoint,\r\n  addToCartURL,\r\n  removeFromCartURL,\r\n  searchURL,\r\n  orderItemsDeleteURL,\r\n  messageURL,\r\n} from \"../../constant\";\r\nimport { authAxios, config } from \"../../utils\";\r\nimport { fetchCart } from \"./cart\";\r\n\r\nexport const getItems = () => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(productListURL)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const filterCategory = (category) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(productListURL)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const searchItems = (item) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCTS_LOADING,\r\n  });\r\n  axios\r\n    .get(`${searchURL}${item}`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCTS_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getItemDetail = (slug) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_PRODUCT_DETAIL_LOADING,\r\n  });\r\n\r\n  axios\r\n    .get(`${endpoint}${slug}`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PRODUCT_DETAIL_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_PRODUCT_DETAIL_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleAddToCart = (ref_code, qty) => (dispatch) => {\r\n  dispatch({\r\n    type: ADD_TO_CART_LOADING,\r\n  });\r\n  console.log(ref_code);\r\n  console.log(qty);\r\n\r\n  const body = JSON.stringify({\r\n    ref_code,\r\n    qty,\r\n  });\r\n\r\n  authAxios\r\n    .post(addToCartURL, body, config)\r\n    .then((res) => {\r\n      dispatch(createMessage({ addToCart: res.data }));\r\n      fetchCart();\r\n      dispatch({\r\n        type: ADD_TO_CART_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: ADD_TO_CART_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleRemoveFromCart = (code) => (dispatch) => {\r\n  dispatch({\r\n    type: REMOVE_FROM_CART_LOADING,\r\n  });\r\n  authAxios\r\n    .post(`${removeFromCartURL}${code}/`)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART_SUCCESS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART_ERROR,\r\n        payload: err,\r\n      });\r\n    });\r\n};\r\n\r\nexport const handleRemoveItem = (id) => (dispatch) => {\r\n  // dispatch({\r\n  //   type: REMOVE_FROM_CART_LOADING,\r\n  // });\r\n  authAxios\r\n    .delete(orderItemsDeleteURL(id))\r\n    .then((res) => {\r\n      fetchCart();\r\n      // dispatch({\r\n      //   type: REMOVE_FROM_CART_SUCCESS,\r\n      //   payload: id,\r\n      // });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const sendMsg = (data) => (dispatch) => {\r\n  axios\r\n    .post(messageURL, data, config)\r\n    .then((res) => {\r\n      dispatch(\r\n        createMessage({ saveMsg: \"Your message was received successfully\" })\r\n      );\r\n    })\r\n    .catch((err) => {\r\n      const errors = {\r\n        msg: err.response.data,\r\n        status: err.response.status,\r\n      };\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: errors,\r\n      });\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}