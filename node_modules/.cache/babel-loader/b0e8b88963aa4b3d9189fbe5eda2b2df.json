{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\luxurysilk\\\\src\\\\component\\\\cart\\\\Cart.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { FaMinus, FaPlus } from \"react-icons/fa\";\nimport { orderSummaryURL, productListURL } from \"../../constant\";\nimport { authAxios } from \"../../utils\";\nimport { connect } from \"react-redux\";\nimport img1 from \"../../assets/imgs/shampoo1.jpg\";\nimport img2 from \"../../assets/imgs/oilhome.jpg\";\n\nconst Cart = () => {\n  const [shoppingCart, setShoppingCart] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const cartBtn = document.getElementById(\"cart-btn\");\n  const closeCartBtn = document.querySelector(\".close-cart\");\n  const clearCartBtn = document.querySelector(\".clear-cart\");\n  const cartDOM = document.querySelector(\".cart-content\");\n  const cartOverlay = document.querySelector(\".cart-overlay\");\n  const cartContent = document.querySelector(\".cart-content\");\n  const cartItems = document.querySelector(\".cart-total\");\n  const cartTotal = document.querySelector(\".cart-total\");\n  useEffect(() => {\n    fetchCart();\n  }, []); // cart\n\n  let cart = [];\n  useEffect(() => {}, []); // buttons\n\n  let buttonsDOM = [];\n\n  const fetchCart = () => {\n    authAxios.get(orderSummaryURL).then(res => {\n      setShoppingCart(res.data);\n    }).catch(err => {\n      console.log(error);\n    });\n  }; // fetching products\n\n\n  class Products {\n    async getProducts() {\n      try {\n        let result = await fetch(productListURL);\n        let data = result.json();\n        return data;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  } // display\n\n\n  class UI {\n    getCartButtons() {\n      const buttons = [...document.querySelectorAll(\"#add-cart\")];\n      buttonsDOM = buttons;\n      buttons.forEach(button => {\n        let id = button.dataset.id;\n        let inCart = cart.find(item => item.id === id);\n\n        if (inCart) {\n          button.innerText = \"In Cart\";\n          button.disable = true;\n        } else {\n          button.addEventListener(\"click\", event => {\n            event.target.innerText = \"In Cart\";\n            event.target.disable = true; // get product from products\n\n            let cartItem = { ...Storage.getProduct(id),\n              amount: 1\n            }; // add product to the product\n\n            cart = [...cart, cartItem];\n            console.log(cart); // save cart in local storage\n\n            Storage.saveCart(cart); // set cart values\n\n            this.setCartValues(cart); // display cart item\n\n            this.addCartItem(cartItem); // show the cart\n\n            this.showCart();\n          });\n        }\n      });\n    }\n\n    setCartValues(cart) {\n      let tempTotal = 0;\n      let itemsTotal = 0;\n      cart.map(item => {\n        if (item.discount_price) {\n          tempTotal += item.discount_price * item.amount;\n          itemsTotal += item.amount;\n        } else {\n          tempTotal += item.price * item.amount;\n          itemsTotal += item.amount;\n        }\n      });\n      localStorage.setItem(\"tempTotal\", parseFloat(tempTotal.toFixed(2)));\n      localStorage.setItem(\"itemsTotal\", itemsTotal); // cartItems.innerText = itemsTotal;\n\n      console.log(tempTotal, itemsTotal);\n    }\n\n    addCartItem(item) {\n      const div = document.createElement(\"div\");\n      div.classList.add(\"cart-item\");\n      div.innerHTML = `\n      <img src=${item.image} alt=\"\" />\n      <div>\n        <h3>${item.title}</h3>\n        <h5>KSh. ${item.discount_price ? item.discount_price : item.price}</h5>\n        <span className=\"remove-item\" data-id=${item.ref_code}>remove</span>\n      </div>\n      <div>\n        <i className=\"fa fa-chevron-up\" data-id=${item.ref_code}></i>\n        <p className=\"item-amount\">${item.amount}</p>\n        <i className=\"fa fa-chevron-down\" data-id=${item.ref_code}></i>\n      </div>\n      `;\n      cartContent.append(div);\n      console.log(cartContent);\n    }\n\n    showCart() {\n      cartOverlay.classList.add(\"transparentBcg\");\n      cartDOM.classList.add(\"showCart\");\n    }\n\n  } // local storage\n\n\n  class Storage {\n    static saveProducts(products) {\n      localStorage.setItem(\"products\", JSON.stringify(products));\n    }\n\n    static getProduct(ref_code) {\n      let products = JSON.parse(localStorage.getItem(\"products\"));\n      return products.find(product => product.ref_code === ref_code);\n    }\n\n    static saveCart(cart) {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n\n  }\n\n  useEffect(() => {\n    const ui = new UI();\n    const products = new Products();\n    products.getProducts().then(data => {\n      localStorage.setItem(\"products\", data.results);\n      Storage.saveProducts(data.results);\n    }).then(() => {\n      ui.getCartButtons();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-window-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, \"your cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, \"your total : $ \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cart-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 30\n    }\n  }, \"0\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-cart banner-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"clear cart\")))));\n};\n\nexport default Cart;","map":{"version":3,"sources":["D:/download/.New folder (2)/luxurysilk/src/component/cart/Cart.js"],"names":["React","useEffect","useState","FaMinus","FaPlus","orderSummaryURL","productListURL","authAxios","connect","img1","img2","Cart","shoppingCart","setShoppingCart","loading","setLoading","error","setError","cartBtn","document","getElementById","closeCartBtn","querySelector","clearCartBtn","cartDOM","cartOverlay","cartContent","cartItems","cartTotal","fetchCart","cart","buttonsDOM","get","then","res","data","catch","err","console","log","Products","getProducts","result","fetch","json","UI","getCartButtons","buttons","querySelectorAll","forEach","button","id","dataset","inCart","find","item","innerText","disable","addEventListener","event","target","cartItem","Storage","getProduct","amount","saveCart","setCartValues","addCartItem","showCart","tempTotal","itemsTotal","map","discount_price","price","localStorage","setItem","parseFloat","toFixed","div","createElement","classList","add","innerHTML","image","title","ref_code","append","saveProducts","products","JSON","stringify","parse","getItem","product","ui","results"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { FaMinus, FaPlus } from \"react-icons/fa\";\r\nimport { orderSummaryURL, productListURL } from \"../../constant\";\r\nimport { authAxios } from \"../../utils\";\r\nimport { connect } from \"react-redux\";\r\nimport img1 from \"../../assets/imgs/shampoo1.jpg\";\r\nimport img2 from \"../../assets/imgs/oilhome.jpg\";\r\n\r\nconst Cart = () => {\r\n  const [shoppingCart, setShoppingCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const cartBtn = document.getElementById(\"cart-btn\");\r\n  const closeCartBtn = document.querySelector(\".close-cart\");\r\n  const clearCartBtn = document.querySelector(\".clear-cart\");\r\n  const cartDOM = document.querySelector(\".cart-content\");\r\n  const cartOverlay = document.querySelector(\".cart-overlay\");\r\n  const cartContent = document.querySelector(\".cart-content\");\r\n  const cartItems = document.querySelector(\".cart-total\");\r\n  const cartTotal = document.querySelector(\".cart-total\");\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, []);\r\n\r\n  // cart\r\n  let cart = [];\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  // buttons\r\n  let buttonsDOM = [];\r\n\r\n  const fetchCart = () => {\r\n    authAxios\r\n      .get(orderSummaryURL)\r\n      .then((res) => {\r\n        setShoppingCart(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // fetching products\r\n  class Products {\r\n    async getProducts() {\r\n      try {\r\n        let result = await fetch(productListURL);\r\n        let data = result.json();\r\n        return data;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  }\r\n\r\n  // display\r\n  class UI {\r\n    getCartButtons() {\r\n      const buttons = [...document.querySelectorAll(\"#add-cart\")];\r\n\r\n      buttonsDOM = buttons;\r\n\r\n      buttons.forEach((button) => {\r\n        let id = button.dataset.id;\r\n        let inCart = cart.find((item) => item.id === id);\r\n\r\n        if (inCart) {\r\n          button.innerText = \"In Cart\";\r\n          button.disable = true;\r\n        } else {\r\n          button.addEventListener(\"click\", (event) => {\r\n            event.target.innerText = \"In Cart\";\r\n            event.target.disable = true;\r\n\r\n            // get product from products\r\n            let cartItem = { ...Storage.getProduct(id), amount: 1 };\r\n\r\n            // add product to the product\r\n            cart = [...cart, cartItem];\r\n            console.log(cart);\r\n            // save cart in local storage\r\n            Storage.saveCart(cart);\r\n            // set cart values\r\n            this.setCartValues(cart);\r\n            // display cart item\r\n            this.addCartItem(cartItem);\r\n            // show the cart\r\n            this.showCart();\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    setCartValues(cart) {\r\n      let tempTotal = 0;\r\n      let itemsTotal = 0;\r\n\r\n      cart.map((item) => {\r\n        if (item.discount_price) {\r\n          tempTotal += item.discount_price * item.amount;\r\n          itemsTotal += item.amount;\r\n        } else {\r\n          tempTotal += item.price * item.amount;\r\n          itemsTotal += item.amount;\r\n        }\r\n      });\r\n\r\n      localStorage.setItem(\"tempTotal\", parseFloat(tempTotal.toFixed(2)));\r\n      localStorage.setItem(\"itemsTotal\", itemsTotal);\r\n\r\n      // cartItems.innerText = itemsTotal;\r\n\r\n      console.log(tempTotal, itemsTotal);\r\n    }\r\n\r\n    addCartItem(item) {\r\n      const div = document.createElement(\"div\");\r\n      div.classList.add(\"cart-item\");\r\n      div.innerHTML = `\r\n      <img src=${item.image} alt=\"\" />\r\n      <div>\r\n        <h3>${item.title}</h3>\r\n        <h5>KSh. ${item.discount_price ? item.discount_price : item.price}</h5>\r\n        <span className=\"remove-item\" data-id=${item.ref_code}>remove</span>\r\n      </div>\r\n      <div>\r\n        <i className=\"fa fa-chevron-up\" data-id=${item.ref_code}></i>\r\n        <p className=\"item-amount\">${item.amount}</p>\r\n        <i className=\"fa fa-chevron-down\" data-id=${item.ref_code}></i>\r\n      </div>\r\n      `;\r\n\r\n      cartContent.append(div);\r\n      console.log(cartContent);\r\n    }\r\n\r\n    showCart() {\r\n      cartOverlay.classList.add(\"transparentBcg\");\r\n      cartDOM.classList.add(\"showCart\");\r\n    }\r\n  }\r\n\r\n  // local storage\r\n  class Storage {\r\n    static saveProducts(products) {\r\n      localStorage.setItem(\"products\", JSON.stringify(products));\r\n    }\r\n    static getProduct(ref_code) {\r\n      let products = JSON.parse(localStorage.getItem(\"products\"));\r\n      return products.find((product) => product.ref_code === ref_code);\r\n    }\r\n    static saveCart(cart) {\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const ui = new UI();\r\n    const products = new Products();\r\n\r\n    products\r\n      .getProducts()\r\n      .then((data) => {\r\n        localStorage.setItem(\"products\", data.results);\r\n        Storage.saveProducts(data.results);\r\n      })\r\n      .then(() => {\r\n        ui.getCartButtons();\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"cart-overlay\">\r\n      <div className=\"cart-wrapper\">\r\n        <span className=\"close-cart\">\r\n          <i className=\"fa fa-window-close\" />\r\n        </span>\r\n        <h2>your cart</h2>\r\n        <div className=\"cart-content\">\r\n          {/* <div className=\"cart-item\">\r\n          \r\n          </div> */}\r\n          <div className=\"cart-footer\">\r\n            <h3>\r\n              your total : $ <span className=\"cart-total\">0</span>\r\n            </h3>\r\n            <button className=\"clear-cart banner-btn\">clear cart</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}