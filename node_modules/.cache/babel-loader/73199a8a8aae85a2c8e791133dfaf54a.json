{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\modals\\\\AddAddress\\\\AddAddress.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { IoMdClose } from \"react-icons/io\";\nimport { addAddress } from \"../../redux/action/address\";\nimport \"./style.css\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"semantic-ui-react\";\nimport { countyListURL, cityListURL, userIdURL } from \"../../constant\";\nimport { authAxios } from \"../../utils\";\n\nconst AddAddress = ({\n  addAddress\n}) => {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [apartment, setApartment] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [county, setCounty] = useState(\"\");\n  const [userID, setUserID] = useState(null);\n  const [counties, setCounties] = useState([]);\n  const [cities, setCities] = useState([]);\n  const [makeDefault, setMakeDefault] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  useEffect(() => {\n    handleFetchCounties();\n    handleFetchCities();\n    getUserID();\n  }, []);\n\n  const getUserID = () => {\n    authAxios.get(userIdURL).then(res => {\n      setUserID(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  let id = userID === null || userID === void 0 ? void 0 : userID.userID;\n\n  const handleFormatData = counties => {\n    const keys = Object.keys(counties);\n    return keys.map(k => {\n      return {\n        key: k,\n        text: counties[k],\n        value: k\n      };\n    });\n  };\n\n  const handleFetchCounties = () => {\n    authAxios.get(countyListURL).then(res => {\n      setCounties(handleFormatData(res.data));\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleFetchCities = () => {\n    authAxios.get(cityListURL).then(res => {\n      setCities(handleFormatData(res.data));\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleSubmitAddress = e => {\n    e.preventDefault();\n    const data = {\n      user: id,\n      contact,\n      first_name: firstname,\n      last_name: lastname,\n      address,\n      apartment,\n      city,\n      state_or_region: county,\n      default: makeDefault\n    };\n    addAddress(data);\n  };\n\n  const closeModal = () => {\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n    document.querySelector(\".add-address\").classList.add(\"hide\");\n  };\n\n  if (success) {\n    closeModal();\n  }\n\n  window.addEventListener(\"click\", e => {\n    if (e.target.classList.contains(\"modal-overlay\")) {\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n      document.querySelector(\".add-address\").classList.add(\"hide\");\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-overlay hide add-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \"Add New Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-title__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IoMdClose, {\n    onClick: () => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"shipping-form\",\n    onSubmit: e => handleSubmitAddress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shipping-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: firstname,\n    onChange: e => setFirstname(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: lastname,\n    onChange: e => setLastname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, \"Mobile number\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phone_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, \"+254\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"E.g 79000000\",\n    value: contact,\n    onChange: e => setContact(e.target.value),\n    maxLength: \"9\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }, \"Apartment, suite, etc.\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: apartment,\n    onChange: e => setApartment(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, \"County / Region *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCounty(e.target.value),\n    loading: counties.length < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, \"Please select...\"), counties && counties.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.k,\n    value: item.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 23\n    }\n  }, item.text)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"City *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCity(e.target.value),\n    loading: cities.length < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, \"Please select...\"), cities && cities.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.k,\n    value: item.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 23\n    }\n  }, item.text))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: makeDefault === true ? true : false,\n    onChange: () => setMakeDefault(!makeDefault),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, \"Make this default address?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    loading: saving,\n    disabled: saving,\n    type: \"submit\",\n    className: \"checkbox-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nconst mapStateToProps = state => ({\n  loading: state.address.loading,\n  success: state.address.success\n});\n\nexport default connect(mapStateToProps, {\n  addAddress\n})(AddAddress);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/modals/AddAddress/AddAddress.js"],"names":["React","useState","useEffect","IoMdClose","addAddress","connect","Button","countyListURL","cityListURL","userIdURL","authAxios","AddAddress","firstname","setFirstname","lastname","setLastname","contact","setContact","address","setAddress","apartment","setApartment","city","setCity","county","setCounty","userID","setUserID","counties","setCounties","cities","setCities","makeDefault","setMakeDefault","saving","setSaving","error","setError","success","setSuccess","handleFetchCounties","handleFetchCities","getUserID","get","then","res","data","catch","err","console","log","id","handleFormatData","keys","Object","map","k","key","text","value","handleSubmitAddress","e","preventDefault","user","first_name","last_name","state_or_region","default","closeModal","document","querySelector","classList","add","window","addEventListener","target","contains","length","item","mapStateToProps","state","loading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { addAddress } from \"../../redux/action/address\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { countyListURL, cityListURL, userIdURL } from \"../../constant\";\r\nimport { authAxios } from \"../../utils\";\r\n\r\nconst AddAddress = ({ addAddress }) => {\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [apartment, setApartment] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [county, setCounty] = useState(\"\");\r\n  const [userID, setUserID] = useState(null);\r\n  const [counties, setCounties] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [makeDefault, setMakeDefault] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    handleFetchCounties();\r\n    handleFetchCities();\r\n    getUserID();\r\n  }, []);\r\n\r\n  const getUserID = () => {\r\n    authAxios\r\n      .get(userIdURL)\r\n      .then((res) => {\r\n        setUserID(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  let id = userID?.userID;\r\n\r\n  const handleFormatData = (counties) => {\r\n    const keys = Object.keys(counties);\r\n    return keys.map((k) => {\r\n      return {\r\n        key: k,\r\n        text: counties[k],\r\n        value: k,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleFetchCounties = () => {\r\n    authAxios\r\n      .get(countyListURL)\r\n      .then((res) => {\r\n        setCounties(handleFormatData(res.data));\r\n      })\r\n      .catch((err) => {\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  const handleFetchCities = () => {\r\n    authAxios\r\n      .get(cityListURL)\r\n      .then((res) => {\r\n        setCities(handleFormatData(res.data));\r\n      })\r\n      .catch((err) => {\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmitAddress = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      user: id,\r\n      contact,\r\n      first_name: firstname,\r\n      last_name: lastname,\r\n      address,\r\n      apartment,\r\n      city,\r\n      state_or_region: county,\r\n      default: makeDefault,\r\n    };\r\n    addAddress(data);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n    document.querySelector(\".add-address\").classList.add(\"hide\");\r\n  };\r\n\r\n  if (success) {\r\n    closeModal();\r\n  }\r\n\r\n  window.addEventListener(\"click\", (e) => {\r\n    if (e.target.classList.contains(\"modal-overlay\")) {\r\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n      document.querySelector(\".add-address\").classList.add(\"hide\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"modal-overlay hide add-address\">\r\n      <div className=\"modal-wrapper\">\r\n        <div className=\"modal-header\">\r\n          <span className=\"modal-title\">Add New Address</span>\r\n          <div className=\"modal-title__btn\">\r\n            <IoMdClose onClick={() => closeModal()} />\r\n          </div>\r\n        </div>\r\n        <div className=\"underline\" />\r\n        <form\r\n          className=\"shipping-form\"\r\n          onSubmit={(e) => handleSubmitAddress(e)}>\r\n          <div className=\"shipping-data\">\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group firstname\">\r\n                <label htmlFor=\"firstname\">First name</label>\r\n                <input\r\n                  value={firstname}\r\n                  onChange={(e) => setFirstname(e.target.value)}\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n              <div className=\"input-group lastname\">\r\n                <label htmlFor=\"lastname\">Last name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={lastname}\r\n                  onChange={(e) => setLastname(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group firstname\">\r\n              <label htmlFor=\"firstname\">Mobile number</label>\r\n              <div className=\"input-group phone\">\r\n                <div className=\"phone_code\">+254</div>\r\n                <input\r\n                  placeholder=\"E.g 79000000\"\r\n                  value={contact}\r\n                  onChange={(e) => setContact(e.target.value)}\r\n                  maxLength=\"9\"\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group address\">\r\n              <label htmlFor=\"address\">Address</label>\r\n              <textarea\r\n                value={address}\r\n                onChange={(e) => setAddress(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-group apartment\">\r\n              <label htmlFor=\"apartment\">Apartment, suite, etc.</label>\r\n              <input\r\n                value={apartment}\r\n                onChange={(e) => setApartment(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group state\">\r\n                <label htmlFor=\"city\">County / Region *</label>\r\n                <select\r\n                  onChange={(e) => setCounty(e.target.value)}\r\n                  loading={counties.length < 1}>\r\n                  <option value=\"0\">Please select...</option>\r\n                  {counties &&\r\n                    counties.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group city\">\r\n                <label htmlFor=\"city\">City *</label>\r\n                <select\r\n                  onChange={(e) => setCity(e.target.value)}\r\n                  loading={cities.length < 1}>\r\n                  <option value=\"0\">Please select...</option>\r\n                  {cities &&\r\n                    cities.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"input-default\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={makeDefault === true ? true : false}\r\n                onChange={() => setMakeDefault(!makeDefault)}\r\n              />\r\n              <span>Make this default address?</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"checkout-nav\">\r\n            <Button\r\n              loading={saving}\r\n              disabled={saving}\r\n              type=\"submit\"\r\n              className=\"checkbox-btn\">\r\n              Save\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.address.loading,\r\n  success: state.address.success,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addAddress })(AddAddress);\r\n"]},"metadata":{},"sourceType":"module"}