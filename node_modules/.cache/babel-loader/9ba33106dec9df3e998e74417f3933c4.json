{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\.New folder (2)\\\\hair shop\\\\UI\\\\src\\\\modals\\\\AddAddress\\\\AddAddress.js\";\nimport React, { useState } from \"react\";\nimport { IoMdClose } from \"react-icons/io\";\nimport { addAddress } from \"../../redux/action/address\";\nimport \"./style.css\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Button } from \"semantic-ui-react\";\nimport { countyListURL } from \"../../constant\";\n\nconst AddAddress = () => {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [apartment, setApartment] = useState(\"\");\n  const [postalCode, setPostalCode] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [userID, setUserID] = useState(null);\n  const [counties, setCounties] = useState([]);\n  const [makeDefault, setMakeDefault] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [details, setDetails] = useState(null);\n  const [update, setUpdate] = useState(false);\n\n  const handleFormatCounties = counties => {\n    const keys = Object.keys(counties);\n    return keys.map(k => {\n      return {\n        key: k,\n        text: counties[k],\n        value: k\n      };\n    });\n  };\n\n  const handleFetchCounties = () => {\n    authAxios.get(countyListURL).then(res => {\n      setCounties(handleFormatCounties(res.data));\n    }).catch(err => {\n      setError(err);\n    });\n  };\n\n  const handleSubmitAddress = e => {\n    e.preventDefault();\n    const data = {\n      contact,\n      first_name: firstname,\n      last_name: lastname,\n      address,\n      apartment,\n      city,\n      country_or_region: country,\n      postal_code: postalCode,\n      default: makeDefault\n    };\n    console.log(data);\n  };\n\n  const closeModal = () => {\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n    document.querySelector(\".add-address\").classList.add(\"hide\");\n  };\n\n  if (success) {\n    closeModal();\n  }\n\n  window.addEventListener(\"click\", e => {\n    if (e.target.classList.contains(\"modal-overlay\")) {\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\n      document.querySelector(\".add-address\").classList.add(\"hide\");\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-overlay hide add-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Add New Address\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-title__btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IoMdClose, {\n    onClick: () => closeModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"shipping-form\",\n    onSubmit: e => handleSubmitAddress(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shipping-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: firstname,\n    onChange: e => setFirstname(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Last name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: lastname,\n    onChange: e => setLastname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"Mobile number\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group phone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"phone_code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"+254\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"E.g 79000000\",\n    value: contact,\n    onChange: e => setContact(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"apartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, \"Apartment, suite, etc.\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: apartment,\n    onChange: e => setApartment(e.target.value),\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group state\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"State / Region *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCountry(e.target.value),\n    loading: counties.length < 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"Please select...\"), counties && counties.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.k,\n    value: item.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 23\n    }\n  }, item.text)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"city\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, \"City *\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setCountry(e.target.value) // loading={countries.length < 1}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, \"Please select...\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: makeDefault === true ? true : false,\n    onChange: () => setMakeDefault(!makeDefault),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 15\n    }\n  }, \"Make this default address?\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    loading: saving,\n    disabled: saving,\n    type: \"submit\",\n    className: \"checkbox-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nconst mapStateToProps = state => ({\n  loading: state.address.loading,\n  success: state.address.success\n});\n\nexport default connect(mapStateToProps, {\n  addAddress\n})(AddAddress);","map":{"version":3,"sources":["D:/download/.New folder (2)/hair shop/UI/src/modals/AddAddress/AddAddress.js"],"names":["React","useState","IoMdClose","addAddress","connect","Link","Button","countyListURL","AddAddress","firstname","setFirstname","lastname","setLastname","contact","setContact","address","setAddress","apartment","setApartment","postalCode","setPostalCode","city","setCity","country","setCountry","userID","setUserID","counties","setCounties","makeDefault","setMakeDefault","saving","setSaving","error","setError","success","setSuccess","details","setDetails","update","setUpdate","handleFormatCounties","keys","Object","map","k","key","text","value","handleFetchCounties","authAxios","get","then","res","data","catch","err","handleSubmitAddress","e","preventDefault","first_name","last_name","country_or_region","postal_code","default","console","log","closeModal","document","querySelector","classList","add","window","addEventListener","target","contains","length","item","mapStateToProps","state","loading"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\nimport { addAddress } from \"../../redux/action/address\";\r\nimport \"./style.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport { countyListURL } from \"../../constant\";\r\n\r\nconst AddAddress = () => {\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [contact, setContact] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [apartment, setApartment] = useState(\"\");\r\n  const [postalCode, setPostalCode] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [userID, setUserID] = useState(null);\r\n  const [counties, setCounties] = useState([]);\r\n  const [makeDefault, setMakeDefault] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [details, setDetails] = useState(null);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const handleFormatCounties = (counties) => {\r\n    const keys = Object.keys(counties);\r\n    return keys.map((k) => {\r\n      return {\r\n        key: k,\r\n        text: counties[k],\r\n        value: k,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleFetchCounties = () => {\r\n    authAxios\r\n      .get(countyListURL)\r\n      .then((res) => {\r\n        setCounties(handleFormatCounties(res.data));\r\n      })\r\n      .catch((err) => {\r\n        setError(err);\r\n      });\r\n  };\r\n\r\n  const handleSubmitAddress = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      contact,\r\n      first_name: firstname,\r\n      last_name: lastname,\r\n      address,\r\n      apartment,\r\n      city,\r\n      country_or_region: country,\r\n      postal_code: postalCode,\r\n      default: makeDefault,\r\n    };\r\n    console.log(data);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n    document.querySelector(\".add-address\").classList.add(\"hide\");\r\n  };\r\n\r\n  if (success) {\r\n    closeModal();\r\n  }\r\n\r\n  window.addEventListener(\"click\", (e) => {\r\n    if (e.target.classList.contains(\"modal-overlay\")) {\r\n      document.querySelector(\".modal-overlay\").classList.add(\"hide\");\r\n      document.querySelector(\".add-address\").classList.add(\"hide\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"modal-overlay hide add-address\">\r\n      <div className=\"modal-wrapper\">\r\n        <div className=\"modal-header\">\r\n          <span className=\"modal-title\">Add New Address</span>\r\n          <div className=\"modal-title__btn\">\r\n            <IoMdClose onClick={() => closeModal()} />\r\n          </div>\r\n        </div>\r\n        <div className=\"underline\" />\r\n        <form\r\n          className=\"shipping-form\"\r\n          onSubmit={(e) => handleSubmitAddress(e)}>\r\n          <div className=\"shipping-data\">\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group firstname\">\r\n                <label htmlFor=\"firstname\">First name</label>\r\n                <input\r\n                  value={firstname}\r\n                  onChange={(e) => setFirstname(e.target.value)}\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n              <div className=\"input-group lastname\">\r\n                <label htmlFor=\"lastname\">Last name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={lastname}\r\n                  onChange={(e) => setLastname(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group firstname\">\r\n              <label htmlFor=\"firstname\">Mobile number</label>\r\n              <div className=\"input-group phone\">\r\n                <div className=\"phone_code\">+254</div>\r\n                <input\r\n                  placeholder=\"E.g 79000000\"\r\n                  value={contact}\r\n                  onChange={(e) => setContact(e.target.value)}\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"input-group address\">\r\n              <label htmlFor=\"address\">Address</label>\r\n              <textarea\r\n                value={address}\r\n                onChange={(e) => setAddress(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-group apartment\">\r\n              <label htmlFor=\"apartment\">Apartment, suite, etc.</label>\r\n              <input\r\n                value={apartment}\r\n                onChange={(e) => setApartment(e.target.value)}\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"input-inline\">\r\n              <div className=\"input-group state\">\r\n                <label htmlFor=\"city\">State / Region *</label>\r\n                <select\r\n                  onChange={(e) => setCountry(e.target.value)}\r\n                  loading={counties.length < 1}>\r\n                  <option value=\"0\">Please select...</option>\r\n                  {counties &&\r\n                    counties.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"input-group city\">\r\n                <label htmlFor=\"city\">City *</label>\r\n                <select\r\n                  onChange={(e) => setCountry(e.target.value)}\r\n                  // loading={countries.length < 1}\r\n                >\r\n                  <option value=\"0\">Please select...</option>\r\n                  {/* {countries &&\r\n                    countries.map((item) => (\r\n                      <option key={item.k} value={item.value}>\r\n                        {item.text}\r\n                      </option>\r\n                    ))} */}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"input-default\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={makeDefault === true ? true : false}\r\n                onChange={() => setMakeDefault(!makeDefault)}\r\n              />\r\n              <span>Make this default address?</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"checkout-nav\">\r\n            <Button\r\n              loading={saving}\r\n              disabled={saving}\r\n              type=\"submit\"\r\n              className=\"checkbox-btn\">\r\n              Save\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loading: state.address.loading,\r\n  success: state.address.success,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addAddress })(AddAddress);\r\n"]},"metadata":{},"sourceType":"module"}